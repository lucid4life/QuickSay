---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Navbar from '../../components/Navbar.astro';
import Footer from '../../components/Footer.astro';
import { getCollection } from 'astro:content';

const allDocs = (await getCollection('docs')).sort(
  (a, b) => a.data.order - b.data.order
);
---

<BaseLayout
  title="Documentation â€” QuickSay"
  description="QuickSay documentation: installation, voice commands, language support, custom dictionary, troubleshooting, and FAQ."
  canonicalUrl="https://quicksay.app/docs"
  breadcrumbs={[{ name: 'Home', url: 'https://quicksay.app' }, { name: 'Documentation', url: 'https://quicksay.app/docs' }]}
>
  <Navbar slot="header" />

  <section class="max-w-4xl mx-auto px-6 pt-32 pb-20">
    <h1 class="font-headline font-bold text-4xl text-text-primary mb-4">Documentation</h1>
    <p class="text-text-secondary text-lg mb-12 max-w-2xl">
      Everything you need to set up, configure, and get the most out of QuickSay.
    </p>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
      {allDocs.map((doc) => (
        <a
          href={`/docs/${doc.id}`}
          class="doc-card group"
        >
          <h2 class="font-headline font-semibold text-text-primary text-lg mb-1 group-hover:text-accent-teal transition-colors">
            {doc.data.title}
          </h2>
          <p class="text-text-tertiary text-sm leading-relaxed">
            {doc.data.description}
          </p>
        </a>
      ))}
    </div>
  </section>

  <Footer slot="footer" />
</BaseLayout>

<style>
  .doc-card {
    display: block;
    padding: 1.25rem 1.5rem;
    border: 1px solid var(--border);
    border-radius: 0.5rem;
    background-color: var(--surface);
    transition: border-color 150ms ease, transform 150ms ease;
  }

  .doc-card:hover {
    border-color: var(--accent-teal);
    transform: translateY(-2px);
  }
</style>
