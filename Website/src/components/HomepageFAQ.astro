---
/**
 * HomepageFAQ — accordion-style FAQ section with 6 key questions
 * Pure CSS checkbox hack for accordion behavior
 * Only ONE question can be open at a time
 */

const faqs = [
  {
    id: 'offline',
    question: 'Does QuickSay work offline?',
    answer: 'QuickSay needs an internet connection — your audio is transcribed in the cloud in real time. It\'s fast (under 2 seconds typically), but it won\'t work offline.',
  },
  {
    id: 'privacy',
    question: 'Is my voice data stored or shared?',
    answer: 'Your audio is sent to the cloud for transcription, then immediately discarded. QuickSay itself stores zero voice data, zero tracking data, and zero screen captures. The AI provider\'s privacy policy applies to the transcription process. Unlike competitors, QuickSay never captures your screen or tracks your usage.',
  },
  {
    id: 'guarantee',
    question: 'What if I don\'t like it?',
    answer: 'QuickSay is free during the open beta — no credit card required. Try it with zero risk.',
  },
  {
    id: 'platforms',
    question: 'Is there a Mac or Linux version?',
    answer: 'Not yet. QuickSay is Windows-only for now. We built it specifically for Windows because that\'s where we saw the biggest gap in quality voice-to-text tools. Mac and Linux versions are under consideration based on demand.',
  },
  {
    id: 'groq-tier',
    question: 'What happens if Groq changes their free tier?',
    answer: 'QuickSay connects to your own free AI account, not ours. You see exactly what you\'re using and what it costs. If the free tier changes, you can upgrade to the paid tier (a few dollars per month for unlimited usage) or switch providers. Your QuickSay purchase is separate and permanent.',
    link: {
      text: 'Learn more about how it works',
      href: '/pricing#byok'
    }
  },
  {
    id: 'updates',
    question: 'Do I get future updates?',
    answer: 'Yes. All updates within the current major version are included - bug fixes, performance improvements, new features, and language additions. You will never be asked to pay again for an update.',
  },
  {
    id: 'setup',
    question: 'Is it hard to set up?',
    answer: 'Setup takes about 3 minutes. Download QuickSay, create a free account at Groq (the AI service that handles transcription), paste your key into the app, and start talking. We walk you through every step during the onboarding wizard.',
    link: {
      text: 'Read the setup guide',
      href: '/docs'
    }
  },
  {
    id: 'vs-windows',
    question: 'How is this different from Windows built-in dictation?',
    answer: 'Windows built-in voice typing gives you raw speech-to-text — every filler word, grammar mistake, and formatting issue is yours to fix. QuickSay adds AI cleanup that removes filler words, fixes grammar, formats text, and adapts to context. It\'s the difference between a rough transcript and polished writing.',
  },
  {
    id: 'microphones',
    question: 'What microphones and apps does it work with?',
    answer: 'QuickSay works with any microphone — built-in laptop mics, USB headsets, Bluetooth earbuds, or professional condensers. It types into any text field on Windows: VS Code, Google Docs, Slack, Microsoft Word, email clients, browsers, and more. If you can type there, you can dictate there.',
  },
];
---

<section id="faq" class="py-24 md:py-32 px-6">
  <div class="max-w-[700px] mx-auto">
    <!-- Headline -->
    <h2 class="fade-in-up font-headline font-semibold text-3xl md:text-4xl text-text-primary text-center mb-12">
      Questions? Answered.
    </h2>

    <!-- Accordion -->
    <div class="space-y-4">
      {faqs.map((faq, index) => (
        <div id={faq.id} class="fade-in-up border border-border rounded-lg bg-surface overflow-hidden" style={`transition-delay: ${index * 50}ms`}>
          <input
            type="radio"
            id={`faq-${faq.id}`}
            name="faq-accordion"
            class="peer hidden"
          />
          <label
            for={`faq-${faq.id}`}
            class="flex items-center justify-between cursor-pointer py-5 px-6 select-none transition-colors duration-200 peer-checked:text-accent-teal"
          >
            <span class="font-headline font-medium text-base text-text-primary peer-checked:text-accent-teal pr-4">
              {faq.question}
            </span>
            <svg
              class="w-5 h-5 shrink-0 text-text-tertiary transition-transform duration-200 peer-checked:rotate-180 peer-checked:text-accent-teal"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2"
              aria-hidden="true"
            >
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
          </label>
          <div class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out peer-checked:max-h-96">
            <div class="px-6 pb-5">
              <p class="font-body text-text-secondary text-[15px] leading-[1.7]">
                {faq.answer}
              </p>
              {faq.link && (
                <a href={faq.link.href} class="inline-block mt-2 text-accent-teal hover:underline text-sm font-medium transition-colors duration-150">
                  {faq.link.text} →
                </a>
              )}
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  /* Ensure smooth accordion transitions */
  .faq-answer {
    transition: max-height 300ms ease;
  }

  /* Apply teal color to question text when checked */
  input[type="radio"]:checked + label span {
    color: #22d3c5;
  }

  /* Rotate chevron when checked */
  input[type="radio"]:checked + label svg {
    transform: rotate(180deg);
    color: #22d3c5;
  }

  /* Expand answer when checked */
  input[type="radio"]:checked ~ .faq-answer {
    max-h: 24rem;
  }

  /* Mobile: ensure minimum tap area */
  @media (max-width: 640px) {
    label {
      min-height: 48px;
    }
  }
</style>
